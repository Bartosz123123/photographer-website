"use strict";var currentImageIndex,burgerBtn=document.querySelector(".burger-btn"),dropdown=document.querySelector(".dropdown"),arrows=document.querySelectorAll(".icon"),heroes=document.querySelectorAll(".parallax-hero"),sliderBox=document.querySelector(".slider-box"),leftBtn=document.querySelector(".btn-left"),rightBtn=document.querySelector(".btn-right"),carouselImages=document.querySelectorAll(".slider-img"),carouselWidth=100,carouselSpeed=5e3,index=0,showAllBtn=document.querySelector(".show-all"),gallery=document.querySelector(".gallery"),slider=document.querySelector(".slider"),thumbnails=document.querySelectorAll(".gallery-img"),popup=document.querySelector(".popup"),closePopupBtn=document.querySelector(".close-popup"),imgInPopup=document.querySelector(".popup-img"),popupArrowRight=document.querySelector(".popup-arrow-right"),popupArrowLeft=document.querySelector(".popup-arrow-left"),body=document.querySelector(".body"),handleRightArrowPopup=function(){currentImageIndex===thumbnails.length-1?currentImageIndex=0:currentImageIndex++,imgInPopup.src=thumbnails[currentImageIndex].src},handleLeftArrowPopup=function(){0===currentImageIndex?currentImageIndex=thumbnails.length-1:currentImageIndex--,imgInPopup.src=thumbnails[currentImageIndex].src},closePopup=function(){popup.classList.add("popup-fade-out"),body.classList.remove("body-hidden"),setTimeout(function(){popup.classList.add("popup-hidden"),popup.classList.remove("popup-fade-out")},300)},swapGalleryAndCarousel=function(){gallery.classList.toggle("show-gallery"),slider.classList.toggle("hide-carousel")},handleCarousel=function(){index++,changeImages()},startCarousel=setInterval(handleCarousel,carouselSpeed),changeImages=function(){index>carouselImages.length-1?index=0:index<0&&(index=carouselImages.length-1),sliderBox&&(sliderBox.style.transform="translateX(".concat(-index*carouselWidth,"%)"))},handleRightArrow=function(){index++,resetInterval()},handleLeftArrow=function(){index--,resetInterval()},resetInterval=function(){changeImages(),clearInterval(startCarousel),startCarousel=setInterval(handleCarousel,carouselSpeed)},handleNav=function(){dropdown.classList.toggle("active")},handleArrowOnScroll=function(){var r=window.scrollY;arrows.forEach(function(e){80<r?(e.classList.add("hide-arrow"),e.classList.remove("show-arrow")):r<45&&(e.classList.add("show-arrow"),e.classList.remove("hide-arrow"))})};window.addEventListener("scroll",function(){heroes.forEach(function(e){var r=window.pageYOffset,o=e.offsetTop;e.style.transform="translateY(".concat(.2*(r-o)+"px",")")})}),document.addEventListener("keydown",function(e){popup.classList.contains("popup-hidden")||("ArrowRight"===e.key||39===e.keyCode?handleRightArrowPopup():"ArrowLeft"===e.key||37===e.keyCode?handleLeftArrowPopup():"Escape"!==e.key&&27!==e.keyCode||closePopup())}),thumbnails.forEach(function(e,r){e.addEventListener("click",function(e){popup.classList.remove("popup-hidden"),imgInPopup.src=e.target.src,body.classList.add("body-hidden"),currentImageIndex=r})}),popupArrowRight&&popupArrowRight.addEventListener("click",handleRightArrowPopup),popupArrowLeft&&popupArrowLeft.addEventListener("click",handleLeftArrowPopup),closePopupBtn&&closePopupBtn.addEventListener("click",closePopup),showAllBtn&&showAllBtn.addEventListener("click",swapGalleryAndCarousel),leftBtn&&leftBtn.addEventListener("click",handleLeftArrow),rightBtn&&rightBtn.addEventListener("click",handleRightArrow),document.addEventListener("scroll",handleArrowOnScroll),burgerBtn.addEventListener("click",handleNav),popup&&popup.addEventListener("click",function(e){e.target===popup&&closePopup()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFuZGxlUmlnaHRBcnJvd1BvcHVwIiwiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZHJvcGRvd24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGVyb2VzIiwic2xpZGVyQm94IiwibGVmdEJ0biIsInJpZ2h0QnRuIiwiY2Fyb3VzZWxJbWFnZXMiLCJjYXJvdXNlbFdpZHRoIiwiY2Fyb3VzZWxTcGVlZCIsInNob3dBbGxCdG4iLCJnYWxsZXJ5Iiwic2xpZGVyIiwidGh1bWJuYWlscyIsImNsb3NlUG9wdXBCdG4iLCJpbWdJblBvcHVwIiwicG9wdXBBcnJvd1JpZ2h0IiwicG9wdXBBcnJvd0xlZnQiLCJib2R5IiwiY3VycmVudEltYWdlSW5kZXgiLCJsZW5ndGgiLCJoYW5kbGVMZWZ0QXJyb3dQb3B1cCIsImNsYXNzTGlzdCIsImFkZCIsInNyYyIsInBvcHVwIiwicmVtb3ZlIiwic2V0VGltZW91dCIsInN3YXBHYWxsZXJ5QW5kQ2Fyb3VzZWwiLCJ0b2dnbGUiLCJjaGFuZ2VJbWFnZXMiLCJzdGFydENhcm91c2VsIiwic2V0SW50ZXJ2YWwiLCJoYW5kbGVDYXJvdXNlbCIsImluZGV4IiwidHJhbnNmb3JtIiwiaGFuZGxlUmlnaHRBcnJvdyIsInJlc2V0SW50ZXJ2YWwiLCJjb25jYXQiLCJjbGVhckludGVydmFsIiwiaGFuZGxlTGVmdEFycm93IiwiaGFuZGxlQXJyb3dPblNjcm9sbCIsIndpbmRvdyIsImFycm93IiwidG9wIiwiaGFuZGxlTmF2IiwibnVtYmVyIiwic2Nyb2xsWSIsImFycm93cyIsImZvckVhY2giLCJoZXJvUG9zaXRpb24iLCJzdW0iLCJzY3JvbGxQb3NpdGlvbiIsInN1bTIiLCJzdHlsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWU9mZnNldCIsImhlcm8iLCJvZmZzZXRUb3AiLCJlIiwiY29udGFpbnMiLCJrZXkiLCJrZXlDb2RlIiwiY2xvc2VQb3B1cCIsInRodW1ibmFpbCIs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QzVCQSxFQUFFTSxTQUFXeEMsT0FDaEJzQyxXQUFVLENBRVosQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJyk7XHJcbmNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3Bkb3duJyk7XHJcbmNvbnN0IGFycm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uJyk7XHJcbmNvbnN0IGhlcm9lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJhbGxheC1oZXJvJyk7XHJcblxyXG5jb25zdCBzbGlkZXJCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJveCcpO1xyXG5jb25zdCBsZWZ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1sZWZ0Jyk7XHJcbmNvbnN0IHJpZ2h0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1yaWdodCcpO1xyXG5jb25zdCBjYXJvdXNlbEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItaW1nJyk7XHJcbmNvbnN0IGNhcm91c2VsV2lkdGggPSAxMDA7XHJcbmNvbnN0IGNhcm91c2VsU3BlZWQgPSA1MDAwO1xyXG5sZXQgaW5kZXggPSAwO1xyXG5cclxuY29uc3Qgc2hvd0FsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG93LWFsbCcpO1xyXG5jb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnknKTtcclxuY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpO1xyXG5cclxuY29uc3QgdGh1bWJuYWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5LWltZycpO1xyXG4vLyBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5jb25zdCBjbG9zZVBvcHVwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLXBvcHVwJyk7XHJcbmNvbnN0IGltZ0luUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW1nJyk7XHJcbmNvbnN0IHBvcHVwQXJyb3dSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hcnJvdy1yaWdodCcpO1xyXG5jb25zdCBwb3B1cEFycm93TGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hcnJvdy1sZWZ0Jyk7XHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9keScpO1xyXG5sZXQgY3VycmVudEltYWdlSW5kZXg7XHJcblxyXG5jb25zdCBoYW5kbGVSaWdodEFycm93UG9wdXAgPSAoKSA9PiB7XHJcblx0aWYgKGN1cnJlbnRJbWFnZUluZGV4ID09PSB0aHVtYm5haWxzLmxlbmd0aCAtIDEpIHtcclxuXHRcdGN1cnJlbnRJbWFnZUluZGV4ID0gMDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y3VycmVudEltYWdlSW5kZXgrKztcclxuXHR9XHJcblx0aW1nSW5Qb3B1cC5zcmMgPSB0aHVtYm5haWxzW2N1cnJlbnRJbWFnZUluZGV4XS5zcmM7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMZWZ0QXJyb3dQb3B1cCA9ICgpID0+IHtcclxuXHRpZiAoY3VycmVudEltYWdlSW5kZXggPT09IDApIHtcclxuXHRcdGN1cnJlbnRJbWFnZUluZGV4ID0gdGh1bWJuYWlscy5sZW5ndGggLSAxO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjdXJyZW50SW1hZ2VJbmRleC0tO1xyXG5cdH1cclxuXHRpbWdJblBvcHVwLnNyYyA9IHRodW1ibmFpbHNbY3VycmVudEltYWdlSW5kZXhdLnNyYztcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtZmFkZS1vdXQnKTtcclxuXHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvZHktaGlkZGVuJyk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtaGlkZGVuJyk7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cC1mYWRlLW91dCcpO1xyXG5cdH0sIDMwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzd2FwR2FsbGVyeUFuZENhcm91c2VsID0gKCkgPT4ge1xyXG5cdGdhbGxlcnkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1nYWxsZXJ5Jyk7XHJcblx0c2xpZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUtY2Fyb3VzZWwnKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcm91c2VsID0gKCkgPT4ge1xyXG5cdGluZGV4Kys7XHJcblx0Y2hhbmdlSW1hZ2VzKCk7XHJcbn07XHJcblxyXG5sZXQgc3RhcnRDYXJvdXNlbCA9IHNldEludGVydmFsKGhhbmRsZUNhcm91c2VsLCBjYXJvdXNlbFNwZWVkKTtcclxuXHJcbmNvbnN0IGNoYW5nZUltYWdlcyA9ICgpID0+IHtcclxuXHRpZiAoaW5kZXggPiBjYXJvdXNlbEltYWdlcy5sZW5ndGggLSAxKSB7XHJcblx0XHRpbmRleCA9IDA7XHJcblx0fSBlbHNlIGlmIChpbmRleCA8IDApIHtcclxuXHRcdGluZGV4ID0gY2Fyb3VzZWxJbWFnZXMubGVuZ3RoIC0gMTtcclxuXHR9XHJcblxyXG5cdC8vIHNsaWRlckJveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgkey1pbmRleCAqIGNhcm91c2VsV2lkdGh9JSlgO1xyXG5cdGlmIChzbGlkZXJCb3gpIHtcclxuXHRcdHNsaWRlckJveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgkey1pbmRleCAqIGNhcm91c2VsV2lkdGh9JSlgO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVJpZ2h0QXJyb3cgPSAoKSA9PiB7XHJcblx0aW5kZXgrKztcclxuXHRyZXNldEludGVydmFsKCk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMZWZ0QXJyb3cgPSAoKSA9PiB7XHJcblx0aW5kZXgtLTtcclxuXHRyZXNldEludGVydmFsKCk7XHJcbn07XHJcblxyXG5jb25zdCByZXNldEludGVydmFsID0gKCkgPT4ge1xyXG5cdGNoYW5nZUltYWdlcygpO1xyXG5cdGNsZWFySW50ZXJ2YWwoc3RhcnRDYXJvdXNlbCk7XHJcblx0c3RhcnRDYXJvdXNlbCA9IHNldEludGVydmFsKGhhbmRsZUNhcm91c2VsLCBjYXJvdXNlbFNwZWVkKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuXHRkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUFycm93T25TY3JvbGwgPSAoKSA9PiB7XHJcblx0Y29uc3QgdG9wID0gd2luZG93LnNjcm9sbFk7XHJcblx0YXJyb3dzLmZvckVhY2goKGFycm93KSA9PiB7XHJcblx0XHRpZiAodG9wID4gODApIHtcclxuXHRcdFx0YXJyb3cuY2xhc3NMaXN0LmFkZCgnaGlkZS1hcnJvdycpO1xyXG5cdFx0XHRhcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWFycm93Jyk7XHJcblx0XHR9IGVsc2UgaWYgKHRvcCA8IDQ1KSB7XHJcblx0XHRcdGFycm93LmNsYXNzTGlzdC5hZGQoJ3Nob3ctYXJyb3cnKTtcclxuXHRcdFx0YXJyb3cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1hcnJvdycpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuXHRoZXJvZXMuZm9yRWFjaCgoaGVybykgPT4ge1xyXG5cdFx0bGV0IHNjcm9sbFBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG5cdFx0Y29uc3QgbnVtYmVyID0gMC4yO1xyXG5cdFx0Ly8gbGV0IHN1bSA9IHNjcm9sbFBvc2l0aW9uICogbnVtYmVyO1xyXG5cdFx0bGV0IGhlcm9Qb3NpdGlvbiA9IGhlcm8ub2Zmc2V0VG9wO1xyXG5cdFx0bGV0IHN1bSA9IHNjcm9sbFBvc2l0aW9uIC0gaGVyb1Bvc2l0aW9uO1xyXG5cdFx0bGV0IHN1bTIgPSBzdW0gKiBudW1iZXIgKyAncHgnO1xyXG5cclxuXHRcdGhlcm8uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtzdW0yfSlgO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG5cdGlmICghcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC1oaWRkZW4nKSkge1xyXG5cdFx0aWYgKGUua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZS5rZXlDb2RlID09PSAzOSkge1xyXG5cdFx0XHRoYW5kbGVSaWdodEFycm93UG9wdXAoKTtcclxuXHRcdH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGUua2V5Q29kZSA9PT0gMzcpIHtcclxuXHRcdFx0aGFuZGxlTGVmdEFycm93UG9wdXAoKTtcclxuXHRcdH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnIHx8IGUua2V5Q29kZSA9PT0gMjcpIHtcclxuXHRcdFx0Y2xvc2VQb3B1cCgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG50aHVtYm5haWxzLmZvckVhY2goKHRodW1ibmFpbCwgaW5kZXgpID0+IHtcclxuXHR0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtaGlkZGVuJyk7XHJcblx0XHRpbWdJblBvcHVwLnNyYyA9IGUudGFyZ2V0LnNyYztcclxuXHRcdGJvZHkuY2xhc3NMaXN0LmFkZCgnYm9keS1oaWRkZW4nKTtcclxuXHRcdGN1cnJlbnRJbWFnZUluZGV4ID0gaW5kZXg7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuLy8gcG9wdXBBcnJvd1JpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmlnaHRBcnJvd1BvcHVwKTtcclxuaWYgKHBvcHVwQXJyb3dSaWdodCkge1xyXG5cdHBvcHVwQXJyb3dSaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJpZ2h0QXJyb3dQb3B1cCk7XHJcbn1cclxuXHJcbmlmIChwb3B1cEFycm93TGVmdCkge1xyXG5cdHBvcHVwQXJyb3dMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTGVmdEFycm93UG9wdXApO1xyXG59XHJcbmlmIChjbG9zZVBvcHVwQnRuKSB7XHJcblx0Y2xvc2VQb3B1cEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUG9wdXApO1xyXG59XHJcbmlmIChzaG93QWxsQnRuKSB7XHJcblx0c2hvd0FsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN3YXBHYWxsZXJ5QW5kQ2Fyb3VzZWwpO1xyXG59XHJcbmlmIChsZWZ0QnRuKSB7XHJcblx0bGVmdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUxlZnRBcnJvdyk7XHJcbn1cclxuaWYgKHJpZ2h0QnRuKSB7XHJcblx0cmlnaHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSaWdodEFycm93KTtcclxufVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVBcnJvd09uU2Nyb2xsKTtcclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2KTtcclxuLy8gcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxyXG4vLyBcdGUudGFyZ2V0ID09PSBwb3B1cCA/IGNsb3NlUG9wdXAoKSA6IGZhbHNlXHJcbi8vICk7XHJcbmlmIChwb3B1cCkge1xyXG5cdHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdGlmIChlLnRhcmdldCA9PT0gcG9wdXApIHtcclxuXHRcdFx0Y2xvc2VQb3B1cCgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcbiJdfQ==
